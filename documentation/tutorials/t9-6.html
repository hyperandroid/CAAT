<!doctype html>
<html>
<head>
    <script src="../track.js" type="text/javascript"></script>
    <meta charset="UTF-8">
    <title>CAAT Tutorial 9 - CAAT.Button</title>

    <script type="text/javascript" src="sh/shCore.js"></script>
    <script type="text/javascript" src="sh/shBrushJScript.js"></script>
    <link href="sh/shCore.css" rel="stylesheet" type="text/css"/>
    <link href="sh/shThemeDefault.css" rel="stylesheet" type="text/css"/>

    <script type="text/javascript" src="menu/menu.js"></script>
    <script type="text/javascript" src="../../build/caat.js"></script>

    <script type="text/javascript">
        SyntaxHighlighter.all()
    </script>

    <link rel="stylesheet" href="style/demo.css">


</head>


<body>

<div id="page">
    <div id="header">
        <div style="text-align: center;">

        </div>
    </div>

    <div id="content">
        <div id="menu">

        </div>
        <div id="tutorial">
            <h1>Other CAAT actors</h1>

            <h2>CAAT.Button</h2>

            <div>
                <p>
                    <span class="apicode"><b>This actor object's been deprecated and it functionalities are already available in CAAt.Actor via
                    the method <span class="apicode">setAsButton()</span></b></span>.
                </p>

                <p>
                    CAAT.Button instances are CAAT.SpriteActor. Thus a buton is defined with
                    a CompoundImage instance to get button's different states images.
                </p>

                <p>
                    A simple setup must be performed with a call to the method
                    <span class="apicode">initialize( compound_image, iNormal, iOver, iPress, iDisabled, fn)</span>.
                    This method sets up the image, as defines on such image what sub image indexes will be
                    adressed to draw the button on normal, mouseover, pressed and disabled states. The fn
                    parameter defines the callback function that will be called upon mousepress event.
                </p>

                <p>
                    The method <span class="apicode">setEnabled( bool )</span> sets the button
                    enabled or disabled.
                </p>
            </div>
            <div>
                <h2>Example</h2>

                <p>
                    This example is the same as <a href="t2-9">Behave as button</a> example, but
                    with CAAT.Button instances instead.
                </p>

                <div>
                    <canvas id="_c1"></canvas>
                </div>
                <script>
                    (function() {

                        var director= new CAAT.Director().initialize(
                                700,
                                100,
                                document.getElementById('_c1') );

                        var scene= director.createScene();

                        new CAAT.ImagePreloader().loadImages(
                            [
                                {id:'botones',     url:'resource/botones.png'}
                            ],
                            function( counter, images ) {

                                if ( counter==images.length ) { // when it is done loading

                                    director.setImagesCache(images);
                                    
                                    // an image of 7 rows by 3 columns
                                    var ci = new CAAT.CompoundImage().initialize(
                                            director.getImage('botones'), 7, 3);

                                    var b1 = new CAAT.Button().initialize(
                                                ci, 0, 1, 2, 0,
                                                function(button) {
                                                    alert('easy pressed');
                                                }
                                            ).
                                            setLocation(0, 30);

                                    var b2 = new CAAT.Button().initialize(
                                                ci, 6, 7, 8, 6,
                                                function(button) {
                                                    alert('start pressed');
                                                }
                                            ).
                                            setLocation(1.5 * ci.singleWidth, 30);

                                    scene.addChild(b1);
                                    scene.addChild(b2);

                                    CAAT.loop(10);
                                }
                            });

                    })();
                </script>


                <div class="code">
                    <pre class="brush: js; auto-links: false; toolbar: false;">
                        var director= new CAAT.Director().initialize(
                                700,
                                100,
                                document.getElementById('_c1') );

                        var scene= director.createScene();

                        new CAAT.ImagePreloader().loadImages(
                            [
                                {id:'botones',     url:'resource/botones.png'}
                            ],
                            function( counter, images ) {

                                if ( counter==images.length ) { // when it is done loading

                                    director.setImagesCache(images);

                                    // an image of 7 rows by 3 columns
                                    var ci = new CAAT.CompoundImage().initialize(
                                            director.getImage('botones'), 7, 3);

                                    var b1 = new CAAT.Button().initialize(
                                                ci, 0, 1, 2, 0,
                                                function(button) {
                                                    alert('easy pressed');
                                                }
                                            ).
                                            setLocation(0, 30);

                                    var b2 = new CAAT.Button().initialize(
                                                ci, 6, 7, 8, 6,
                                                function(button) {
                                                    alert('start pressed');
                                                }
                                            ).
                                            setLocation(1.5 * ci.singleWidth, 30);

                                    scene.addChild(b1);
                                    scene.addChild(b2);

                                    CAAT.loop(10);
                                }
                            });
                    </pre>
                </div>

                <p>
                    The image used for the example is:
                </p>
                <p>
                    <img src="resource/botones.png">
                </p>
            </div>
        </div>
    </div>
</div>
</div>
</body>
</html>